<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 4 Write-Up</h1>
		<div style="text-align: center;">Names: Riley Udagawa </div>

		<br>

		Link to webpage: <a href="https://cal-cs184-student.github.io/hw-webpages-rileyy/hw4/index.html">https://cal-cs184-student.github.io/hw-webpages-rileyy/hw4/index.html</a>

		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/sp25-hw4-rileyyyy">https://github.com/cal-cs184-student/sp25-hw4-rileyyyy</a>

		<!--
		We've already added one heading per part, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.

		<h2>Part 1: Masses and springs</h2>

		<p>Cloth Wireframe of pinned2</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p1_3.png" width="400px"/>
				  <figcaption></figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p1_2.png" width="400px"/>
				  <figcaption></figcaption>
				</td>
			  </tr>
			</table>
		</div>

		<p>Cloth Wireframe of pinned2 with Different Constraints </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p1_replacements_1.png" width="400px"/>
				  <figcaption>Without Shearing Constraints</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p1_replacements_3.png" width="400px"/>
				  <figcaption>With Only Shearing Constraints</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="p1_replacements_2.png" width="400px"/>
				  <figcaption>With All Constraints</figcaption>
				</td>
			  </tr>
			</table>
		</div>

		<h2>Part 2: Simulation via numerical integration</h2>
		The following compares the normal shaded cloth falling with various pin amounts, spring constants, densities, and damping values.

		<p>Original Cloth: ks=5000, density=15, damping=0.2</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_og_1.png" width="400px"/>
				  <figcaption></figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p2_og_2.png" width="400px"/>
				  <figcaption></figcaption>
				</td>
			  </tr>
			</table>
		</div>
		<br><br>

		The examples with different spring constants shown below demonstrated how the higher spring constant kept the cloth from moving very much and did not allow for much stretching and bending.  The lower spring constant allowed the cloth to deform and stretch more easily, forming more arcs and curved lines than is seen in the higher ks examples. Overall, the higher ks made the cloth feel more rigid and stable compared to the low ks which was bouncy and loose.

		<p>Normal Cloth With Different Spring Constants ks </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_ks100000_1.png" width="400px"/>
				  <figcaption>Spring Constant ks=100000</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p2_ks100000_2.png" width="400px"/>
				  <figcaption>Spring Constant ks=100000</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_ks100_1.png" width="400px"/>
				  <figcaption>Spring Constant ks=100</figcaption>
				</td>
				<td style="text-align: center;">
					<img src="p2_ks100_2.png" width="400px"/>
					<figcaption>Spring Constant ks=100</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		<br><br>

		The examples with different densities shown below demonstrate how a higher density gives more weight to each point, making the cloth feel more affected by gravity.  The cloth just felt heavy in general as it droops down under its own weight.  When the density is low though, the fall is less snappy and more feather-like.  The cloth seems to more smoothly drift to its resting position, as gravity has less of an effect on its movement.

		<p>Normal Cloth With Different Densities </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_dens100_1.png" width="400px"/>
				  <figcaption>Density=100</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p2_dens100_2.png" width="400px"/>
				  <figcaption>Density=100</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_dens1_1.png" width="400px"/>
				  <figcaption>Density=1</figcaption>
				</td>
				<td style="text-align: center;">
					<img src="p2_dens1_2.png" width="400px"/>
					<figcaption>Density=1</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		<br><br>

		The examples with different damping values shown below demonstrates how the high damping value makes the cloth resist movement faster, decelerating to its resting position faster.  It does not seem to have any wasted motion, which is very unlike its counterpart of low damping value which jumps and bounces around a lot.  It took a long time to get to an almost static position, with the bottom corners still moving after a decent amount of time.  The damping value seems to show different levels of energy loss in the cloth's movement.

		<p>Normal Cloth With Different Damping Values </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_damp40_1.png" width="400px"/>
				  <figcaption>Damping=40%</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p2_damp40_2.png" width="400px"/>
				  <figcaption>Damping=40%</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_damp1_1.png" width="400px"/>
				  <figcaption>Damping=1%</figcaption>
				</td>
				<td style="text-align: center;">
					<img src="p2_damp1_2.png" width="400px"/>
					<figcaption>Damping=1%</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		<br><br>

		<p>Normal Cloth With 4 Pins </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p2_pin4_1.png" width="400px"/>
				  <figcaption>4 Pins</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p2_pin4_2.png" width="400px"/>
				  <figcaption>4 Pins</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		<br><br>

		<h2>Part 3: Handling collisions with other objects</h2>
		The main idea to follow when implementing how to handle collisions with spheres and planes is to kind of bump the point mass up to the closest area outside of the object (adjusting for friction and the last position and what not).  For both, I first have to determine if the point mass is in the object by using the fundamental structures of the objects like the radius of the sphere.  Then, I am finding the tangent point which is kind of like the best legal point representing the resulting 'bad' position. I then calculate the correction vector which is the adjustment needed to move the point mass's last position to the tangent point (or right above the tangent point).  Finally, point's last position adjusted by the friction-scaled correction vector becomes the point mass's new position. <br><br>

		The cloth collision with the sphere at spring constant values of 500, 5000, and 50000 are shown below.  As expected, the higher the spring constant is, the more stiff and rigid it is.  This is greatly shown by how ks=500 can almost see the whole outline of the top of the sphere whereas in ks=50000 you can barely tell it is a sphere because of how tough the cloth is.  

		<p>Cloth Sphere Collision With Varying Spring Constants </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p4_sphere_2.png" width="400px"/>
				  <figcaption>Spring Constant = 500</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p4_sphere_3.png" width="400px"/>
				  <figcaption>Spring Constant = 50000</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="p4_sphere_1.png" width="400px"/>
				  <figcaption>Spring Constant = 5000</figcaption>
				</td>
			  </tr>
			</table>
		</div>

		<p>Cloth Plane Peaceful Collision </p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="p4_plane_1.png" width="400px"/>
				  <figcaption>Cloth Plane Shaded</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="p4_plane_2.png" width="400px"/>
				  <figcaption>Cloth Plane Wireframe</figcaption>
				</td>
			  </tr>
			</table>
		</div>

		<h2>Part 4: Handling self-collisions</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Part 5: Shaders</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Part 6: Extra Credit - Additional cloth simulation features!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		
		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>